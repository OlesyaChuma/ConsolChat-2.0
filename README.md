# ConsoleChat — Консольный чат на C++ (STL)

## О проекте
ConsoleChat — это консольное приложение, реализующее функционал простого чата с регистрацией пользователей, авторизацией и обменом сообщениями.  
Проект разработан в рамках итогового задания 1 блока курса и реализован с использованием объектно-ориентированного подхода и контейнеров стандартной библиотеки шаблонов (STL).

---

## Цель проекта
Реализовать консольный чат со следующим функционалом:
- регистрация пользователей (логин, пароль, имя)
- вход в систему по логину и паролю
- отправка сообщений конкретному пользователю
- отправка сообщений всем пользователям чата
- хранение истории сообщений
- использование классов и STL-контейнеров

---

## Используемые технологии
- Язык программирования: C++
- Стандарт: C++17
- STL контейнеры
- Объектно-ориентированное программирование (ООП)
- Файловое хранение данных
- Обработка исключений (try/catch)

---

## Архитектура проекта

Проект построен по принципам ООП и разделен на логические классы:

### User
Класс пользователя чата.  
Содержит:
- логин
- имя
- хеш пароля

---

### Message
Класс сообщения.  
Содержит:
- отправителя (from)
- получателя (to)
- текст сообщения
- время отправки

---

### Chat
Главный класс приложения, отвечающий за:
- регистрацию пользователей
- авторизацию
- отправку сообщений
- отображение истории сообщений
- управление сессией пользователя

---

### FileStorage
Класс для работы с файлами:
- сохранение пользователей в `users.txt`
- сохранение сообщений в `messages.txt`
- загрузка данных при запуске программы

---

## Используемые контейнеры STL
В проекте используются следующие контейнеры стандартной библиотеки:

- `std::unordered_map<string, User>` — хранение пользователей
- `std::vector<Message>` — хранение истории сообщений
- `std::optional` — текущий авторизованный пользователь

Преимущества:
- высокая скорость поиска пользователей (O(1))
- эффективное управление памятью
- безопасная работа без сырых указателей

---

## Функциональные возможности
- Консольный интерфейс
- Регистрация новых пользователей
- Авторизация в системе
- Личные сообщения
- Общий чат (сообщения всем пользователям)
- Просмотр истории сообщений
- Сохранение и загрузка данных из файлов
- Обработка ошибок и некорректного ввода

---

## Надежность и обработка ошибок
В проекте реализовано:
- обработка исключений (try/catch)
- защита от пустого ввода
- проверка существования пользователя
- защита от повторной регистрации
- проверка корректности пароля
- защита от отправки сообщений несуществующему пользователю

---

## Хранение данных
Данные автоматически сохраняются в текстовые файлы:
- `users.txt` — информация о пользователях
- `messages.txt` — история сообщений

При запуске программы данные загружаются из файлов, что позволяет сохранять состояние чата между сессиями.

---

## Консольное меню
Программа реализует интерактивное меню:
1. Регистрация
2. Вход
3. Отправка личного сообщения
4. Отправка сообщения всем
5. Просмотр сообщений
6. Выход из аккаунта
7. Сохранение данных
0. Выход из программы

---

## Требования к окружению
- Компилятор: C++17 или выше
- IDE: Visual Studio 2022 / CLion / VS Code
- Операционная система: Windows / Linux / macOS

---

## Сборка и запуск (Visual Studio)
1. Открыть проект в Visual Studio
2. Перейти в:
   Project → Properties → C/C++ → Language
3. Установить стандарт:
   ISO C++17 (/std:c++17)
4. Собрать проект (Ctrl + Shift + B)
5. Запустить программу (F5)

---

## Настройка кодировки (для Windows)
Для корректного отображения русского текста в консоли необходимо:

Добавить в `main.cpp`:
```cpp
#include <windows.h>

int main() {
    SetConsoleCP(65001);
    SetConsoleOutputCP(65001);
```

---

## Назначение
Проект выполнен в рамках учебного модуля и предназначен для демонстрации:

объектно-ориентированного подхода в C++;

использования контейнеров стандартной библиотеки шаблонов (STL);

реализации консольного клиент-серверного взаимодействия (модели чата);

работы с файловым хранением данных;

обработки исключений и обеспечения надежности программы.

---

## Автор
Чумаченко О.А.
Учебный проект
